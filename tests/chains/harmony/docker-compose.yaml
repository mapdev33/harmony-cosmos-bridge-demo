version: '3.5'
networks:
  map-scaffold:
    name: &network-common map-scaffold

services:
  map-scaffold:
    image: map-scaffold-image
    container_name: map-scaffold
    build:
      context: ./docker
    environment:
      API_ENDPOINT: http://localhost:9598
    ports:
      - "7445:7445"
    healthcheck:
      test: [ "CMD", "curl", "-X POST", '{"jsonrpc": "2.0", "id": 1, "method": "net_version"}', "http://localhost:7445" ]
      start_period: 10s
      interval: 10s
      timeout: 3s
      retries: 5
    networks:
      - *network-common
